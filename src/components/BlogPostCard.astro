---
interface frontmatterInfo {
  title: string;
  description: string;
  author: string;
  pubDate: string;
  coverImage: Record<string, string>;
  tags: Array<string>;
}
  
interface Props {
  frontmatter: frontmatterInfo;
  href: string;
}
  
import siteConfig from '@/siteConfig.json';
import { Image } from "astro:assets";
import ButtonLink from "./ButtonLink.astro";
import FormattedDate from '@/components/FormattedDate.astro';

const { frontmatter, href } = Astro.props;
const { coverImage, title, author, pubDate, description } = frontmatter;
const route = `/blog/${href}`;
---

<li transition:name={title} class="post-card">
  <a href={route} role="button" data-astro-prefetch>
    <article class="md:flex md:flex-row-reverse">

      { coverImage && 
        <Image src={coverImage.image} alt={coverImage.alt}
          class="mb-4 md:mb-0 w-[192px]" inferSize loading="eager" />} 
      
      <div class="w-full md:me-4">
        <h3 class="mb-0">{title}</h3>
        <small class="gray">
          {author ? author : siteConfig.default.autor}{
            pubDate && <>, <FormattedDate date={pubDate} /></> }
        </small>
        <p class="mb-2">{description}</p>
        <ButtonLink href={route} text="Leer" small />
      </div>
      
    </article>
  </a>
</li>
